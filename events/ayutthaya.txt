########################################
# Extra Flavor Events for Ayutthaya
########################################

namespace = ayutthaya
normal_or_historical_nations = yes

#Portuguese Envoys in Ayutthaya
country_event = {
	id = ayutthaya.1
	title = "ayutthaya.1.t"
	desc = "ayutthaya.1.d"
	picture = SIAMESE_DIPLOMACY_eventPicture #DIPLOMACY_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = AYU
		POR = {
			any_owned_province = {
				superregion = east_indies_superregion
			}
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = "ayutthaya.1.a" #Honor to our new friends!
		POR = {
			add_opinion = {
				who = ROOT
				modifier = signed_treaty
			}
                }
		ROOT = {
			add_opinion = {
				who = POR
				modifier = signed_treaty
			}
                }
		add_country_modifier = {
			name = ayu_portuguese_treaty
			duration = 1200 #100 years
		}
	}
	option = {
		name = "ayutthaya.1.b" #They have no place in Malacca
		POR = {
			add_opinion = {
				who = ROOT
				modifier = rejected_treaty
			}
		}
	}
}

#Return of the Uthong Clan
country_event = {
	id = ayutthaya.2
	title = "ayutthaya.2.t"
	desc = "ayutthaya.2.d"
	picture = NUSANTARA_WAR_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = AYU
		is_year = 1500
		NOT = { is_year = 1600 }
		has_regency = yes
	}
	
	mean_time_to_happen = {
		months = 35
	}
	
	option = {
		name = "ayutthaya.2.a" #Uthong has finally been restored
		if = {
			limit = {
				has_heir = yes
			}
			kill_heir = yes
		}
		define_ruler = {
			name = "Worawongasa"
			dynasty = "Uthong"
			claim = 30
			adm = 2
			dip = 1
			mil = 3
			male = yes
		}
		hidden_effect = {
			add_ruler_personality = martial_educator_personality
                }
	        define_consort = {
		        name = "Si Sudachan"
                        dynasty = "Uthong"
		        female = yes
		        adm = 3
		        dip = 3
		        mil = 2
	        }
		if = {
			limit = {
				any_owned_province = {
					is_core = ROOT
					is_capital = no
				}
			}
			random_owned_province = {
				limit = {
					is_core = ROOT 
					is_capital = yes
				}
				spawn_rebels = {
					type = pretender_rebels
					size = 3
					leader = "Maha Chakkraphat"
					win = yes
			         }
			}
		}
	}

	option = {
		name = "ayutthaya.2.b" #Rally the clans, Uthong cannot rule!
		if = {
			limit = {
				has_heir = yes
			}
			kill_heir = yes
		}
		define_ruler = {
			dynasty = "Suphannaphum"
			name = "Maha Chakkraphat"
			male = yes
			adm = 2
			dip = 1
			mil = 2
			fixed = yes
		}
		hidden_effect = {
			add_ruler_personality = strict_personality
                }
		if = {
			limit = {
				any_owned_province = {
					is_core = ROOT
					is_capital = no
				}
			}
			random_owned_province = {
				limit = {
					is_core = ROOT 
					is_capital = yes
				}
				spawn_rebels = {
					type = pretender_rebels
					size = 2
					leader = "Worawongsa Uthong"
					win = yes
				}
			}
		}
	}
}